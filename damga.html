<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<title>Dijital Damga Kartı</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
<style>
  /* Temel stil sıfırlama */
  * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
/* Düzenle: */
body {
  font-family: 'Arial', sans-serif;
  background-color: #f5f5f5;
  padding-top: 0; /* Sabit başlık yüksekliğine göre ayarlayın */
}
.card {
  width: 100vw; /* ekran genişliğine göre ayarlanır */
  margin: 0;
  margin-top: 0;
  padding: 20px;
  background-color: #ffffff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

@keyframes blink {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.glf-button {
  animation: blink 0.9s linear infinite;
}

.glf-button {
  position: fixed;
  top: -2px;
  left: -2px;
  width: 100%;
  z-index: 100;
  display: flex;
  justify-content: center;
  align-items: center;

}

hr {
  margin: 20px 0;
  border: none;
  border-top: 1px solid #e5e5e5;
}

.title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
  text-align: center;
  margin-bottom: 20px;
}
.stamps {
    display: flex;
    margin-bottom: 20px;
    min-width: auto;
    margin-left: auto;
    margin-right: auto;
    flex-wrap: wrap;
    justify-content: space-around;
}

.stamp {
  width: 25%;
  height: 50px;
  background-color: #e5e5e5;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #333;
  font-weight: bold;
  font-size: 20px;
  margin: 5px;
  border-radius: 50%;
  border: 2px solid #33333358;
}

.stamp.complete {
  background-color: #4caf50;
  color: #ffffff;
}

.stamp i {
  margin-left: 5px;
}

.qr-code {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 20px;
}

input {
  outline: none;
  text-align: center;
  width: 85vw;
  height: 50px;
  font-size: 20px;
  background-color: #f5f5f5;
  border: 1px solid #e5e5e5;
  border-radius: 10px;
  margin-top: 10px;
}

input::placeholder {
  color: #ffffff;
}

@media (min-width: 300px) {
    .stamp {
      width: 60px;
      height: 60px;
    }
  }
  .profil {
  position: fixed;
  top: 2px;
  left: 45px;
  transform: translateX(-50%);
  z-index: 100;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 60px;
  height: 60px;
}

.profil img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
}
.stamp.gratis {
  background-color: #f5e102b5;
  border: 2px solid #44d407c5;
  border-radius: 20%;
  width: auto;
  font-size: 15px;
}
</style>
</head>
<body>
<div class="card">
<span class="glf-button" style="background-color: #ff7300ed;" data-glf-cuid="33226b9d-c5c5-440e-9041-c766b47163f4" data-glf-ruid="b272e84c-1ea6-43e3-bd3c-b95cfb8967e4">      Se MENY og Bestill 👆</span>

<div class="profil">
<img src="https://i.hizliresim.com/51zdn92.png" alt="">
</div>
<br><br><br>
<h1 class="title">Digitalt StempelKort</h1>
<div class="stamps">
<div class="stamp complete"> 1 <i class="fas fa-check"></i> </div>
<div class="stamp complete"> 2 <i class="fas fa-check"></i> </div>
<div class="stamp complete"> 3 <i class="fas fa-check"></i> </div>
<div class="stamp">4</div>
<div class="stamp">5</div>
<div class="stamp">6</div>
<div class="stamp">7</div>
<div class="stamp">8</div>
<div class="stamp">9</div>
<div class="stamp">10</div>
<div class="stamp gratis"> 11. Gratis! 🍕🥳 </div>

</div>
<hr>
<h1 class="title"><span class="completed-pizzas" id="completed"><input id="inp" type="text" pattern="\d{8}" maxlength="8" inputmode="numeric" placeholder="Registrer ditt mobilnummer 📝" onkeyup="method()" oninput="this.value = this.value.replace(/[^0-9]/g, ''); updateInputBackground();">
</span>
</h1>

<div class="qr-code">
  <div id="QRimage"></div>
  </div>

  <h6 style="text-align: center;">
    Registrer kun engang ditt mobilnummer og vis QR-koden din til personalet hver gang du henter en stor pizza. 
    <br>For hver pizza vil du motta en kupong. Når du har samlet 10 kuponger, få en gratis valgfri stor pizza på din 11. pizza. 
    <br>Tilbudet gjelder bare for store pizzaer.

  </h6>
</div>
<script src="https://www.fbgcdn.com/embedder/js/ewm2.js" defer async ></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>

function updateInputBackground() {
  var inp = document.getElementById("inp");
  if (inp.value.length === 8) {
    inp.style.backgroundColor = "#14cb1a76"; // 8 haneli numara için yeşil arka plan
  } else {
    inp.style.backgroundColor = "#ee070792"; // 8'den az haneli numara için kırmızı arka plan
  }
}

inp.value = localStorage.getItem('mobilNumara');

  method();
  function method() {
    // Numara tam 8 girilince yesil, eksikse kirmizi
    updateInputBackground();

    var QRimage = document.getElementById("QRimage");
    var inp = document.getElementById("inp");

    // localStorage'ye girilen numarayı kaydedin
    localStorage.setItem('mobilNumara', inp.value);

    QRimage.innerHTML = null;
    var QR = new QRCode(QRimage);
    QR.makeCode("bestill.online/?n="+inp.value);
  }
</script>

</body>
</html>
